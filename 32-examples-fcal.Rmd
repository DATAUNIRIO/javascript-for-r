# Math Evaluator

In this short example we wrap the JavaScript library [fcal.js](https://github.com/5anthosh/fcal) with R using V8.

> Fcaljs is an extensive math expression evaluator library for JavaScript and Node.js. Using fcal, you can perform basic arithmetic, percentage operations with precision. It features a flexible expression parser with a large set of built-in units, functions and constants.

The library can be explored in its [READMe](https://github.com/5anthosh/fcal) available on Github, the library is very straightforward it consists of instantiating a class and use the `evaluate` method to evaluate mathematical expressions.

We start by loading V8 and sourcing fcal.js from the CDN.

```{r}
library(V8)

# initialise
engine <- v8()

engine$source("https://cdn.jsdelivr.net/npm/fcal/dist/fcal.js")
```

Then one needs to initialise the class.

```{r}
engine$eval("const calc = new fcal.Fcal();")
```

Finally, it's simply about using the one method to evaluate expressions.

```{r}
engine$call("calc.evaluate", "23 C add 123 F")
```
