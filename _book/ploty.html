<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 Ploty | JavaScript for R</title>
  <meta name="description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 Ploty | JavaScript for R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="github-repo" content="yihui/bookdown-crc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 Ploty | JavaScript for R" />
  
  <meta name="twitter:description" content="Invite JavaScript into your Data Science workflow." />
  

<meta name="author" content="John Coene" />


<meta name="date" content="2020-06-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="for-the-curious.html"/>
<link rel="next" href="references.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<script src="libs/core-js/shim.min.js"></script>
<script src="libs/react/react.min.js"></script>
<script src="libs/react/react-dom.min.js"></script>
<script src="libs/reactwidget/react-tools.js"></script>
<script src="libs/reactable-binding/reactable.js"></script>
<script src="libs/r2d3-render/r2d3-render.js"></script>
<script src="libs/webcomponents/webcomponents.js"></script>
<script src="libs/r2d3-binding/r2d3.js"></script>
<script src="libs/d3v5/d3.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R and JavaScript</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
</ul></li>
<li class="part"><span><b>I Basics &amp; Roadmap</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#rationale"><i class="fa fa-check"></i>Rationale</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#package-development"><i class="fa fa-check"></i>Package Development</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#json"><i class="fa fa-check"></i>JSON</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#javascript"><i class="fa fa-check"></i>JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#methods"><i class="fa fa-check"></i>Methods</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#v8"><i class="fa fa-check"></i>V8</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#htmlwidgets"><i class="fa fa-check"></i>htmlwidgets</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#shiny"><i class="fa fa-check"></i>Shiny</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#reactr"><i class="fa fa-check"></i>reactR</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#bubble"><i class="fa fa-check"></i>bubble</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#r2d3"><i class="fa fa-check"></i>r2d3</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II JavaScript for Computations</b></span></li>
<li class="chapter" data-level="2" data-path="the-v8-engine.html"><a href="the-v8-engine.html"><i class="fa fa-check"></i><b>2</b> The V8 Engine</a>
<ul>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#external-libraries"><i class="fa fa-check"></i>External Libraries</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#with-npm"><i class="fa fa-check"></i>With Npm</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#use-in-packages"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="node.html"><a href="node.html"><i class="fa fa-check"></i><b>3</b> Node.js with Bubble</a>
<ul>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#r-markdown-engine"><i class="fa fa-check"></i>R Markdown Engine</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#npm"><i class="fa fa-check"></i>Npm</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#use-in-packages-1"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="part"><span><b>III Web Development with Shiny</b></span></li>
<li class="chapter" data-level="4" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>4</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#static-files"><i class="fa fa-check"></i>Static Files</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#example---alerts"><i class="fa fa-check"></i>Example - Alerts</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#from-r-to-javascript"><i class="fa fa-check"></i>From R to JavaScript</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#from-javascript-to-r"><i class="fa fa-check"></i>From JavaScript to R</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#deserialise"><i class="fa fa-check"></i>Deserialise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="a-complete-integration.html"><a href="a-complete-integration.html"><i class="fa fa-check"></i><b>5</b> A Complete Integration</a>
<ul>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#serialisation"><i class="fa fa-check"></i>Serialisation</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#events-callbacks"><i class="fa fa-check"></i>Events &amp; Callbacks</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#as-a-package"><i class="fa fa-check"></i>As a Package</a>
<ul>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#dependencies"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#r-code"><i class="fa fa-check"></i>R Code</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#javascript-code"><i class="fa fa-check"></i>JavaScript Code</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#input-handler"><i class="fa fa-check"></i>Input Handler</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#wrapping-up"><i class="fa fa-check"></i>Wrapping up</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Data Visualisation</b></span></li>
<li class="chapter" data-level="6" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>6</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#candidate-libraries"><i class="fa fa-check"></i>Candidate Libraries</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#plotly"><i class="fa fa-check"></i>Plotly</a></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#highchart.js"><i class="fa fa-check"></i>Highchart.js</a></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#chart.js"><i class="fa fa-check"></i>Chart.js</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#how-it-works"><i class="fa fa-check"></i>How it works</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="your-first-widget.html"><a href="your-first-widget.html"><i class="fa fa-check"></i><b>7</b> Your First Widget</a>
<ul>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#the-scaffold"><i class="fa fa-check"></i>The Scaffold</a></li>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#the-output"><i class="fa fa-check"></i>The Output</a></li>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#javascript-side"><i class="fa fa-check"></i>JavaScript-side</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html"><i class="fa fa-check"></i><b>8</b> A Realistic Widget</a>
<ul>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#dependency"><i class="fa fa-check"></i>Dependency</a></li>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#javascript-1"><i class="fa fa-check"></i>JavaScript</a></li>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#html-element"><i class="fa fa-check"></i>HTML Element</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-full-monty.html"><a href="the-full-monty.html"><i class="fa fa-check"></i><b>9</b> The Full Monty</a>
<ul>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#dependencies-1"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#javascript-2"><i class="fa fa-check"></i>JavaScript</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#working-with-data"><i class="fa fa-check"></i>Working with Data</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#transforming-data"><i class="fa fa-check"></i>Transforming Data</a>
<ul>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#in-javascript"><i class="fa fa-check"></i>In JavaScript</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#in-r"><i class="fa fa-check"></i>In R</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#pros-cons"><i class="fa fa-check"></i>Pros &amp; Cons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#on-print"><i class="fa fa-check"></i>On Print</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="advanced-usage.html"><a href="advanced-usage.html"><i class="fa fa-check"></i><b>10</b> Advanced Usage</a>
<ul>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#shared-variables"><i class="fa fa-check"></i>Shared Variables</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#sizing"><i class="fa fa-check"></i>Sizing</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#sizing-policy"><i class="fa fa-check"></i>Sizing Policy</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#resizing"><i class="fa fa-check"></i>Resizing</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#pre-render-hooks-safety"><i class="fa fa-check"></i>Pre Render Hooks &amp; Safety</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#javascript-code-1"><i class="fa fa-check"></i>JavaScript Code</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#prepend-append-content"><i class="fa fa-check"></i>Prepend &amp; Append Content</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#dependencies-2"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#compatibility"><i class="fa fa-check"></i>Compatibility</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-shiny.html"><a href="working-with-shiny.html"><i class="fa fa-check"></i><b>11</b> Working with Shiny</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#javascript-to-r"><i class="fa fa-check"></i>JavaScript to R</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#input-handler-1"><i class="fa fa-check"></i>Input Handler</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#r-to-javascript"><i class="fa fa-check"></i>R to JavaScript</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#send-data"><i class="fa fa-check"></i>Send Data</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#retrieve-widget-instance"><i class="fa fa-check"></i>Retrieve Widget Instance</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#handle-data"><i class="fa fa-check"></i>Handle Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="for-the-curious.html"><a href="for-the-curious.html"><i class="fa fa-check"></i><b>12</b> For The Curious</a></li>
<li class="part"><span><b>V Examples</b></span></li>
<li class="chapter" data-level="13" data-path="ploty.html"><a href="ploty.html"><i class="fa fa-check"></i><b>13</b> Ploty</a>
<ul>
<li class="chapter" data-level="" data-path="ploty.html"><a href="ploty.html#callback"><i class="fa fa-check"></i>Callback</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">JavaScript for R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ploty" class="section level1" number="13">
<h1><span class="header-section-number">Chapter 13</span> Ploty</h1>
<p>In this chapter we build a widget for plotly.js, or a tiny part of it; it’ll allow drawing a scatter and line plot and have some additional functionalities in shiny. Below is the example from the <a href="https://plotly.com/javascript/line-and-scatter/">plotly website</a> which we will reproduce.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb295-1"><a href="ploty.html#cb295-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb295-2"><a href="ploty.html#cb295-2"></a><span class="kw">&lt;html</span><span class="ot"> xmlns=</span><span class="st">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="ot"> lang=</span><span class="st">&quot;&quot;</span><span class="ot"> xml:lang=</span><span class="st">&quot;&quot;</span><span class="kw">&gt;</span></span>
<span id="cb295-3"><a href="ploty.html#cb295-3"></a></span>
<span id="cb295-4"><a href="ploty.html#cb295-4"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb295-5"><a href="ploty.html#cb295-5"></a>  <span class="co">&lt;!-- Import library --&gt;</span></span>
<span id="cb295-6"><a href="ploty.html#cb295-6"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plotly-latest.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb295-7"><a href="ploty.html#cb295-7"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb295-8"><a href="ploty.html#cb295-8"></a></span>
<span id="cb295-9"><a href="ploty.html#cb295-9"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb295-10"><a href="ploty.html#cb295-10"></a>  <span class="co">&lt;!-- div to hold visualisation --&gt;</span></span>
<span id="cb295-11"><a href="ploty.html#cb295-11"></a>  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;chart&quot;</span><span class="ot"> style=</span><span class="st">&quot;width:600px;height:250px;&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb295-12"><a href="ploty.html#cb295-12"></a></span>
<span id="cb295-13"><a href="ploty.html#cb295-13"></a>  <span class="co">&lt;!-- Script to create visualsiation --&gt;</span></span>
<span id="cb295-14"><a href="ploty.html#cb295-14"></a>  <span class="kw">&lt;script&gt;</span></span>
<span id="cb295-15"><a href="ploty.html#cb295-15"></a>    <span class="kw">var</span> trace1 <span class="op">=</span> <span class="op">{</span></span>
<span id="cb295-16"><a href="ploty.html#cb295-16"></a>      <span class="dt">x</span><span class="op">:</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb295-17"><a href="ploty.html#cb295-17"></a>      <span class="dt">y</span><span class="op">:</span> [<span class="dv">10</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">17</span>]<span class="op">,</span></span>
<span id="cb295-18"><a href="ploty.html#cb295-18"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;markers&#39;</span><span class="op">,</span></span>
<span id="cb295-19"><a href="ploty.html#cb295-19"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;scatter&#39;</span></span>
<span id="cb295-20"><a href="ploty.html#cb295-20"></a>    <span class="op">};</span></span>
<span id="cb295-21"><a href="ploty.html#cb295-21"></a></span>
<span id="cb295-22"><a href="ploty.html#cb295-22"></a>    <span class="kw">var</span> trace2 <span class="op">=</span> <span class="op">{</span></span>
<span id="cb295-23"><a href="ploty.html#cb295-23"></a>      <span class="dt">x</span><span class="op">:</span> [<span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span></span>
<span id="cb295-24"><a href="ploty.html#cb295-24"></a>      <span class="dt">y</span><span class="op">:</span> [<span class="dv">16</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb295-25"><a href="ploty.html#cb295-25"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;lines&#39;</span><span class="op">,</span></span>
<span id="cb295-26"><a href="ploty.html#cb295-26"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;scatter&#39;</span></span>
<span id="cb295-27"><a href="ploty.html#cb295-27"></a>    <span class="op">};</span></span>
<span id="cb295-28"><a href="ploty.html#cb295-28"></a></span>
<span id="cb295-29"><a href="ploty.html#cb295-29"></a>    <span class="kw">var</span> data <span class="op">=</span> [trace1<span class="op">,</span> trace2<span class="op">,</span> trace3]<span class="op">;</span></span>
<span id="cb295-30"><a href="ploty.html#cb295-30"></a></span>
<span id="cb295-31"><a href="ploty.html#cb295-31"></a>    <span class="va">Plotly</span>.<span class="at">newPlot</span>(<span class="st">&#39;chart&#39;</span><span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb295-32"><a href="ploty.html#cb295-32"></a>    )<span class="op">;</span></span>
<span id="cb295-33"><a href="ploty.html#cb295-33"></a>  <span class="kw">&lt;/script&gt;</span></span>
<span id="cb295-34"><a href="ploty.html#cb295-34"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb295-35"><a href="ploty.html#cb295-35"></a></span>
<span id="cb295-36"><a href="ploty.html#cb295-36"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>The aim is to obtain an R API like the pseudo code below. It’ll allow initialising the visualisation with the <code>plotly</code> function and add a line or scatter plot with <code>plot_line</code> and <code>plot_marker</code>.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="ploty.html#cb296-1"></a><span class="kw">plotly</span>(<span class="dt">data =</span> cars) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb296-2"><a href="ploty.html#cb296-2"></a><span class="st">  </span><span class="kw">plot_line</span>(<span class="dt">x =</span> <span class="st">&quot;dist&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;speed&quot;</span>)</span></code></pre></div>
<p>The story starts like all other widgets: create a package and scaffold the widget. We name the package plotlier so as not to override the local installation of the actual plotly package. We also add the magrittr pipe (<code>%&gt;%</code>) while we’re at it.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="ploty.html#cb297-1"></a>usethis<span class="op">::</span><span class="kw">create_package</span>(<span class="st">&quot;plotlier&quot;</span>) <span class="co"># create package</span></span>
<span id="cb297-2"><a href="ploty.html#cb297-2"></a>usethis<span class="op">::</span><span class="kw">scaffoldWidget</span>(<span class="st">&quot;plotly&quot;</span>) <span class="co"># scaffold plotly</span></span>
<span id="cb297-3"><a href="ploty.html#cb297-3"></a>usethis<span class="op">::</span><span class="kw">use_pipe</span>() <span class="co"># export pipe</span></span></code></pre></div>
<p>Then we download the dependency from the CDN, the latest version at the time of writing this is <code>1.54.2</code>, and edit the <code>plotly.yml</code> file to point to the downloaded file.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="ploty.html#cb298-1"></a><span class="kw">dir.create</span>(<span class="st">&quot;inst/htmlwidgets/plotly&quot;</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</span>
<span id="cb298-2"><a href="ploty.html#cb298-2"></a>url &lt;-<span class="st"> &quot;https://cdn.plot.ly/plotly-1.54.2.min.js&quot;</span></span>
<span id="cb298-3"><a href="ploty.html#cb298-3"></a><span class="kw">download.file</span>(url, <span class="st">&quot;inst/htmlwidgets/plotly/plotly.min.js&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb299"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb299-1"><a href="ploty.html#cb299-1"></a><span class="fu">dependencies</span><span class="kw">:</span></span>
<span id="cb299-2"><a href="ploty.html#cb299-2"></a><span class="at"> </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plotly</span></span>
<span id="cb299-3"><a href="ploty.html#cb299-3"></a><span class="at">   </span><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.54.2</span></span>
<span id="cb299-4"><a href="ploty.html#cb299-4"></a><span class="at">   </span><span class="fu">src</span><span class="kw">:</span><span class="at"> htmlwidgets/plotly</span></span>
<span id="cb299-5"><a href="ploty.html#cb299-5"></a><span class="at">   </span><span class="fu">script</span><span class="kw">:</span><span class="at"> plotly.min.js</span></span></code></pre></div>
<p>We start by editing the <code>plotly</code> function to accept a data frame which will be stored in the <code>x</code> object. This will not be passed to JavaScript, we only need the data to pull the x and y data later down the pipe (<code>%&gt;%</code>). Therefore we also add a pre render hook which removes that data.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="ploty.html#cb300-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb300-2"><a href="ploty.html#cb300-2"></a>plotly &lt;-<span class="st"> </span><span class="cf">function</span>(data, <span class="dt">width =</span> <span class="ot">NULL</span>, <span class="dt">height =</span> <span class="ot">NULL</span>, <span class="dt">elementId =</span> <span class="ot">NULL</span>) {</span>
<span id="cb300-3"><a href="ploty.html#cb300-3"></a></span>
<span id="cb300-4"><a href="ploty.html#cb300-4"></a>  <span class="co"># forward options using x</span></span>
<span id="cb300-5"><a href="ploty.html#cb300-5"></a>  x =<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb300-6"><a href="ploty.html#cb300-6"></a>    <span class="dt">data =</span> data,</span>
<span id="cb300-7"><a href="ploty.html#cb300-7"></a>    <span class="dt">options =</span> <span class="kw">list</span>()</span>
<span id="cb300-8"><a href="ploty.html#cb300-8"></a>  )</span>
<span id="cb300-9"><a href="ploty.html#cb300-9"></a></span>
<span id="cb300-10"><a href="ploty.html#cb300-10"></a>  <span class="co"># create widget</span></span>
<span id="cb300-11"><a href="ploty.html#cb300-11"></a>  htmlwidgets<span class="op">::</span><span class="kw">createWidget</span>(</span>
<span id="cb300-12"><a href="ploty.html#cb300-12"></a>    <span class="dt">name =</span> <span class="st">&#39;plotly&#39;</span>,</span>
<span id="cb300-13"><a href="ploty.html#cb300-13"></a>    x,</span>
<span id="cb300-14"><a href="ploty.html#cb300-14"></a>    <span class="dt">width =</span> width,</span>
<span id="cb300-15"><a href="ploty.html#cb300-15"></a>    <span class="dt">height =</span> height,</span>
<span id="cb300-16"><a href="ploty.html#cb300-16"></a>    <span class="dt">package =</span> <span class="st">&#39;plotlier&#39;</span>,</span>
<span id="cb300-17"><a href="ploty.html#cb300-17"></a>    <span class="dt">elementId =</span> elementId,</span>
<span id="cb300-18"><a href="ploty.html#cb300-18"></a>    <span class="dt">preRenderHook =</span> render_plotlier</span>
<span id="cb300-19"><a href="ploty.html#cb300-19"></a>  )</span>
<span id="cb300-20"><a href="ploty.html#cb300-20"></a>}</span>
<span id="cb300-21"><a href="ploty.html#cb300-21"></a></span>
<span id="cb300-22"><a href="ploty.html#cb300-22"></a>render_plotlier &lt;-<span class="st"> </span><span class="cf">function</span>(p){</span>
<span id="cb300-23"><a href="ploty.html#cb300-23"></a>  p<span class="op">$</span>x<span class="op">$</span>data &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb300-24"><a href="ploty.html#cb300-24"></a>  <span class="kw">return</span>(p)</span>
<span id="cb300-25"><a href="ploty.html#cb300-25"></a>}</span></code></pre></div>
<p>The JavaScript would look like the code below. Declaring a shared <code>plot</code> variable that is assigned the plotly output created from the <code>options</code>.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb301-1"><a href="ploty.html#cb301-1"></a><span class="va">HTMLWidgets</span>.<span class="at">widget</span>(<span class="op">{</span></span>
<span id="cb301-2"><a href="ploty.html#cb301-2"></a></span>
<span id="cb301-3"><a href="ploty.html#cb301-3"></a>  <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;plotly&#39;</span><span class="op">,</span></span>
<span id="cb301-4"><a href="ploty.html#cb301-4"></a></span>
<span id="cb301-5"><a href="ploty.html#cb301-5"></a>  <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;output&#39;</span><span class="op">,</span></span>
<span id="cb301-6"><a href="ploty.html#cb301-6"></a></span>
<span id="cb301-7"><a href="ploty.html#cb301-7"></a>  <span class="dt">factory</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb301-8"><a href="ploty.html#cb301-8"></a></span>
<span id="cb301-9"><a href="ploty.html#cb301-9"></a>    <span class="co">// shared variable</span></span>
<span id="cb301-10"><a href="ploty.html#cb301-10"></a>    <span class="kw">var</span> plot<span class="op">;</span></span>
<span id="cb301-11"><a href="ploty.html#cb301-11"></a></span>
<span id="cb301-12"><a href="ploty.html#cb301-12"></a>    <span class="cf">return</span> <span class="op">{</span></span>
<span id="cb301-13"><a href="ploty.html#cb301-13"></a></span>
<span id="cb301-14"><a href="ploty.html#cb301-14"></a>      <span class="dt">renderValue</span><span class="op">:</span> <span class="kw">function</span>(x) <span class="op">{</span></span>
<span id="cb301-15"><a href="ploty.html#cb301-15"></a></span>
<span id="cb301-16"><a href="ploty.html#cb301-16"></a>        plot <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="va">el</span>.<span class="at">id</span>)<span class="op">;</span></span>
<span id="cb301-17"><a href="ploty.html#cb301-17"></a>        <span class="va">Plotly</span>.<span class="at">newPlot</span>(<span class="va">el</span>.<span class="at">id</span><span class="op">,</span> <span class="va">x</span>.<span class="at">options</span>)<span class="op">;</span></span>
<span id="cb301-18"><a href="ploty.html#cb301-18"></a></span>
<span id="cb301-19"><a href="ploty.html#cb301-19"></a>      <span class="op">},</span></span>
<span id="cb301-20"><a href="ploty.html#cb301-20"></a></span>
<span id="cb301-21"><a href="ploty.html#cb301-21"></a>      <span class="dt">resize</span><span class="op">:</span> <span class="kw">function</span>(width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb301-22"><a href="ploty.html#cb301-22"></a></span>
<span id="cb301-23"><a href="ploty.html#cb301-23"></a>        <span class="co">// </span><span class="al">TODO</span><span class="co">: code to re-render the widget with a new size</span></span>
<span id="cb301-24"><a href="ploty.html#cb301-24"></a></span>
<span id="cb301-25"><a href="ploty.html#cb301-25"></a>      <span class="op">}</span></span>
<span id="cb301-26"><a href="ploty.html#cb301-26"></a></span>
<span id="cb301-27"><a href="ploty.html#cb301-27"></a>    <span class="op">};</span></span>
<span id="cb301-28"><a href="ploty.html#cb301-28"></a>  <span class="op">}</span></span>
<span id="cb301-29"><a href="ploty.html#cb301-29"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>Then it’s a matter of reproducing the JSON that defines what plotly defines as a “trace” and what more or less corresponds to a “geom” in ggplot2 <span class="citation">(Wickham, Chang, et al. <a href="#ref-R-ggplot2" role="doc-biblioref">2020</a>)</span>. A trace for a scatter plot is defined with the JSON below, which we can read in R to understand the shape of the list to reproduce.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="ploty.html#cb302-1"></a>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(<span class="st">&#39;{</span></span>
<span id="cb302-2"><a href="ploty.html#cb302-2"></a><span class="st">    &quot;x&quot;: [1, 2, 3, 4],</span></span>
<span id="cb302-3"><a href="ploty.html#cb302-3"></a><span class="st">    &quot;y&quot;: [10, 15, 13, 17],</span></span>
<span id="cb302-4"><a href="ploty.html#cb302-4"></a><span class="st">    &quot;mode&quot;: &quot;markers&quot;,</span></span>
<span id="cb302-5"><a href="ploty.html#cb302-5"></a><span class="st">    &quot;type&quot;: &quot;scatter&quot;</span></span>
<span id="cb302-6"><a href="ploty.html#cb302-6"></a><span class="st">}&#39;</span>)</span></code></pre></div>
<pre><code>## $x
## [1] 1 2 3 4
## 
## $y
## [1] 10 15 13 17
## 
## $mode
## [1] &quot;markers&quot;
## 
## $type
## [1] &quot;scatter&quot;</code></pre>
<p>We can then create a function that takes the name of the x and y columns to fetch from the data which is accessible from the plotly object with <code>p$x$data</code></p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="ploty.html#cb304-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb304-2"><a href="ploty.html#cb304-2"></a>plot_marker &lt;-<span class="st"> </span><span class="cf">function</span>(p, x, y){</span>
<span id="cb304-3"><a href="ploty.html#cb304-3"></a>  layer &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb304-4"><a href="ploty.html#cb304-4"></a>    <span class="dt">x =</span> p<span class="op">$</span>x<span class="op">$</span>data[[x]],</span>
<span id="cb304-5"><a href="ploty.html#cb304-5"></a>    <span class="dt">y =</span> p<span class="op">$</span>x<span class="op">$</span>data[[y]],</span>
<span id="cb304-6"><a href="ploty.html#cb304-6"></a>    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,</span>
<span id="cb304-7"><a href="ploty.html#cb304-7"></a>    <span class="dt">mode =</span> <span class="st">&quot;markers&quot;</span></span>
<span id="cb304-8"><a href="ploty.html#cb304-8"></a>  )</span>
<span id="cb304-9"><a href="ploty.html#cb304-9"></a></span>
<span id="cb304-10"><a href="ploty.html#cb304-10"></a>  p<span class="op">$</span>x<span class="op">$</span>options &lt;-<span class="st"> </span><span class="kw">append</span>(p<span class="op">$</span>x<span class="op">$</span>options, <span class="kw">list</span>(layer))</span>
<span id="cb304-11"><a href="ploty.html#cb304-11"></a>  <span class="kw">return</span>(p)</span>
<span id="cb304-12"><a href="ploty.html#cb304-12"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="ploty.html#cb305-1"></a><span class="kw">library</span>(plotlier)</span>
<span id="cb305-2"><a href="ploty.html#cb305-2"></a></span>
<span id="cb305-3"><a href="ploty.html#cb305-3"></a><span class="kw">plotly</span>(cars) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb305-4"><a href="ploty.html#cb305-4"></a><span class="st">  </span><span class="kw">plot_marker</span>(<span class="st">&quot;dist&quot;</span>, <span class="st">&quot;speed&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="images/plotlier-scatter.png" alt="" />
<p class="caption">Plotlier Scatter plot</p>
</div>
<div id="callback" class="section level2 unnumbered" number="">
<h2>Callback</h2>
<p>We can now look up plotly’s documentation on <a href="https://plotly.com/javascript/plotlyjs-events/">callback</a> to send data to the R server when a point is clicked.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb306-1"><a href="ploty.html#cb306-1"></a>...</span>
<span id="cb306-2"><a href="ploty.html#cb306-2"></a>renderValue<span class="op">:</span> <span class="kw">function</span>(x) <span class="op">{</span></span>
<span id="cb306-3"><a href="ploty.html#cb306-3"></a></span>
<span id="cb306-4"><a href="ploty.html#cb306-4"></a>  plot <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="va">el</span>.<span class="at">id</span>)<span class="op">;</span></span>
<span id="cb306-5"><a href="ploty.html#cb306-5"></a>  <span class="va">Plotly</span>.<span class="at">newPlot</span>(<span class="va">el</span>.<span class="at">id</span><span class="op">,</span> <span class="va">x</span>.<span class="at">options</span>)<span class="op">;</span></span>
<span id="cb306-6"><a href="ploty.html#cb306-6"></a></span>
<span id="cb306-7"><a href="ploty.html#cb306-7"></a>  <span class="va">plot</span>.<span class="at">on</span>(<span class="st">&#39;plotly_click&#39;</span><span class="op">,</span> <span class="kw">function</span>(data)<span class="op">{</span></span>
<span id="cb306-8"><a href="ploty.html#cb306-8"></a>    <span class="kw">var</span> coords <span class="op">=</span> [<span class="va">data</span>.<span class="at">points</span>[<span class="dv">0</span>].<span class="at">x</span><span class="op">,</span> <span class="va">data</span>.<span class="at">points</span>[<span class="dv">0</span>].<span class="at">y</span>]<span class="op">;</span></span>
<span id="cb306-9"><a href="ploty.html#cb306-9"></a>    <span class="va">Shiny</span>.<span class="at">setInputValue</span>(<span class="va">el</span>.<span class="at">id</span> <span class="op">+</span> <span class="st">&#39;_clicked&#39;</span><span class="op">,</span> coords)<span class="op">;</span></span>
<span id="cb306-10"><a href="ploty.html#cb306-10"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb306-11"><a href="ploty.html#cb306-11"></a></span>
<span id="cb306-12"><a href="ploty.html#cb306-12"></a><span class="op">}</span></span>
<span id="cb306-13"><a href="ploty.html#cb306-13"></a>...</span></code></pre></div>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="ploty.html#cb307-1"></a><span class="kw">library</span>(shiny)</span>
<span id="cb307-2"><a href="ploty.html#cb307-2"></a><span class="kw">library</span>(plotlier)</span>
<span id="cb307-3"><a href="ploty.html#cb307-3"></a></span>
<span id="cb307-4"><a href="ploty.html#cb307-4"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb307-5"><a href="ploty.html#cb307-5"></a>  <span class="kw">plotlyOutput</span>(<span class="st">&quot;plot&quot;</span>),</span>
<span id="cb307-6"><a href="ploty.html#cb307-6"></a>  <span class="kw">verbatimTextOutput</span>(<span class="st">&quot;clicked&quot;</span>)</span>
<span id="cb307-7"><a href="ploty.html#cb307-7"></a>)</span>
<span id="cb307-8"><a href="ploty.html#cb307-8"></a></span>
<span id="cb307-9"><a href="ploty.html#cb307-9"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</span>
<span id="cb307-10"><a href="ploty.html#cb307-10"></a></span>
<span id="cb307-11"><a href="ploty.html#cb307-11"></a>  output<span class="op">$</span>plot &lt;-<span class="st"> </span><span class="kw">renderPlotly</span>({</span>
<span id="cb307-12"><a href="ploty.html#cb307-12"></a>    <span class="kw">plotly</span>(cars) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb307-13"><a href="ploty.html#cb307-13"></a><span class="st">      </span><span class="kw">plot_marker</span>(<span class="st">&quot;dist&quot;</span>, <span class="st">&quot;speed&quot;</span>)</span>
<span id="cb307-14"><a href="ploty.html#cb307-14"></a>  })</span>
<span id="cb307-15"><a href="ploty.html#cb307-15"></a></span>
<span id="cb307-16"><a href="ploty.html#cb307-16"></a>  output<span class="op">$</span>clicked &lt;-<span class="st"> </span><span class="kw">renderPrint</span>({</span>
<span id="cb307-17"><a href="ploty.html#cb307-17"></a>    <span class="kw">print</span>(input<span class="op">$</span>plot_clicked)</span>
<span id="cb307-18"><a href="ploty.html#cb307-18"></a>  })</span>
<span id="cb307-19"><a href="ploty.html#cb307-19"></a></span>
<span id="cb307-20"><a href="ploty.html#cb307-20"></a>}</span>
<span id="cb307-21"><a href="ploty.html#cb307-21"></a></span>
<span id="cb307-22"><a href="ploty.html#cb307-22"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-ggplot2">
<p>Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2020. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="for-the-curious.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JohnCoene/r-and-javascript/edit/master/30-examples.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
