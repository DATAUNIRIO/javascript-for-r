<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Advanced Usage | JavaScript for R</title>
  <meta name="description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Advanced Usage | JavaScript for R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="github-repo" content="yihui/bookdown-crc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Advanced Usage | JavaScript for R" />
  
  <meta name="twitter:description" content="Invite JavaScript into your Data Science workflow." />
  

<meta name="author" content="John Coene" />


<meta name="date" content="2020-06-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="the-full-monty.html"/>
<link rel="next" href="working-with-shiny.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<script src="libs/core-js/shim.min.js"></script>
<script src="libs/react/react.min.js"></script>
<script src="libs/react/react-dom.min.js"></script>
<script src="libs/reactwidget/react-tools.js"></script>
<script src="libs/reactable-binding/reactable.js"></script>
<script src="libs/r2d3-render/r2d3-render.js"></script>
<script src="libs/webcomponents/webcomponents.js"></script>
<script src="libs/r2d3-binding/r2d3.js"></script>
<script src="libs/d3v5/d3.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R and JavaScript</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
</ul></li>
<li class="part"><span><b>I Basics &amp; Roadmap</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#rationale"><i class="fa fa-check"></i>Rationale</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#package-development"><i class="fa fa-check"></i>Package Development</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#json"><i class="fa fa-check"></i>JSON</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#javascript"><i class="fa fa-check"></i>JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#methods"><i class="fa fa-check"></i>Methods</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#v8"><i class="fa fa-check"></i>V8</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#htmlwidgets"><i class="fa fa-check"></i>htmlwidgets</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#shiny"><i class="fa fa-check"></i>Shiny</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#reactr"><i class="fa fa-check"></i>reactR</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#bubble"><i class="fa fa-check"></i>bubble</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#r2d3"><i class="fa fa-check"></i>r2d3</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II JavaScript for Computations</b></span></li>
<li class="chapter" data-level="2" data-path="the-v8-engine.html"><a href="the-v8-engine.html"><i class="fa fa-check"></i><b>2</b> The V8 Engine</a>
<ul>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#external-libraries"><i class="fa fa-check"></i>External Libraries</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#with-npm"><i class="fa fa-check"></i>With Npm</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#use-in-packages"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="node.html"><a href="node.html"><i class="fa fa-check"></i><b>3</b> Node.js with Bubble</a>
<ul>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#r-markdown-engine"><i class="fa fa-check"></i>R Markdown Engine</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#npm"><i class="fa fa-check"></i>Npm</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#use-in-packages-1"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="part"><span><b>III Web Development with Shiny</b></span></li>
<li class="chapter" data-level="4" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>4</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#static-files"><i class="fa fa-check"></i>Static Files</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#example---alerts"><i class="fa fa-check"></i>Example - Alerts</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#from-r-to-javascript"><i class="fa fa-check"></i>From R to JavaScript</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#from-javascript-to-r"><i class="fa fa-check"></i>From JavaScript to R</a></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html#deserialise"><i class="fa fa-check"></i>Deserialise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="a-complete-integration.html"><a href="a-complete-integration.html"><i class="fa fa-check"></i><b>5</b> A Complete Integration</a>
<ul>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#serialisation"><i class="fa fa-check"></i>Serialisation</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#events-callbacks"><i class="fa fa-check"></i>Events &amp; Callbacks</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#as-a-package"><i class="fa fa-check"></i>As a Package</a>
<ul>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#dependencies"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#r-code"><i class="fa fa-check"></i>R Code</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#javascript-code"><i class="fa fa-check"></i>JavaScript Code</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#input-handler"><i class="fa fa-check"></i>Input Handler</a></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#wrapping-up"><i class="fa fa-check"></i>Wrapping up</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="a-complete-integration.html"><a href="a-complete-integration.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Data Visualisation</b></span></li>
<li class="chapter" data-level="6" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>6</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#candidate-libraries"><i class="fa fa-check"></i>Candidate Libraries</a>
<ul>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#plotly"><i class="fa fa-check"></i>Plotly</a></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#highchart.js"><i class="fa fa-check"></i>Highchart.js</a></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#chart.js"><i class="fa fa-check"></i>Chart.js</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html#how-it-works"><i class="fa fa-check"></i>How it works</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="your-first-widget.html"><a href="your-first-widget.html"><i class="fa fa-check"></i><b>7</b> Your First Widget</a>
<ul>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#the-scaffold"><i class="fa fa-check"></i>The Scaffold</a></li>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#the-output"><i class="fa fa-check"></i>The Output</a></li>
<li class="chapter" data-level="" data-path="your-first-widget.html"><a href="your-first-widget.html#javascript-side"><i class="fa fa-check"></i>JavaScript-side</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html"><i class="fa fa-check"></i><b>8</b> A Realistic Widget</a>
<ul>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#dependency"><i class="fa fa-check"></i>Dependency</a></li>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#javascript-1"><i class="fa fa-check"></i>JavaScript</a></li>
<li class="chapter" data-level="" data-path="a-realistic-widget.html"><a href="a-realistic-widget.html#html-element"><i class="fa fa-check"></i>HTML Element</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-full-monty.html"><a href="the-full-monty.html"><i class="fa fa-check"></i><b>9</b> The Full Monty</a>
<ul>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#dependencies-1"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#javascript-2"><i class="fa fa-check"></i>JavaScript</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#working-with-data"><i class="fa fa-check"></i>Working with Data</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#transforming-data"><i class="fa fa-check"></i>Transforming Data</a>
<ul>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#in-javascript"><i class="fa fa-check"></i>In JavaScript</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#in-r"><i class="fa fa-check"></i>In R</a></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#pros-cons"><i class="fa fa-check"></i>Pros &amp; Cons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="the-full-monty.html"><a href="the-full-monty.html#on-print"><i class="fa fa-check"></i>On Print</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="advanced-usage.html"><a href="advanced-usage.html"><i class="fa fa-check"></i><b>10</b> Advanced Usage</a>
<ul>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#shared-variables"><i class="fa fa-check"></i>Shared Variables</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#sizing"><i class="fa fa-check"></i>Sizing</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#sizing-policy"><i class="fa fa-check"></i>Sizing Policy</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#resizing"><i class="fa fa-check"></i>Resizing</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#pre-render-hooks-safety"><i class="fa fa-check"></i>Pre Render Hooks &amp; Safety</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#javascript-code-1"><i class="fa fa-check"></i>JavaScript Code</a></li>
<li class="chapter" data-level="" data-path="advanced-usage.html"><a href="advanced-usage.html#prepend-append-content"><i class="fa fa-check"></i>Prepend &amp; Append Content</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-shiny.html"><a href="working-with-shiny.html"><i class="fa fa-check"></i><b>11</b> Working with Shiny</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#javascript-to-r"><i class="fa fa-check"></i>JavaScript to R</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#input-handler-1"><i class="fa fa-check"></i>Input Handler</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#r-to-javascript"><i class="fa fa-check"></i>R to JavaScript</a>
<ul>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#send-data"><i class="fa fa-check"></i>Send Data</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#retrieve-widget-instance"><i class="fa fa-check"></i>Retrieve Widget Instance</a></li>
<li class="chapter" data-level="" data-path="working-with-shiny.html"><a href="working-with-shiny.html#handle-data"><i class="fa fa-check"></i>Handle Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="for-the-curious.html"><a href="for-the-curious.html"><i class="fa fa-check"></i><b>12</b> For The Curious</a></li>
<li class="part"><span><b>V Examples</b></span></li>
<li class="chapter" data-level="13" data-path="ploty.html"><a href="ploty.html"><i class="fa fa-check"></i><b>13</b> Ploty</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ploty.html"><a href="ploty.html#callback"><i class="fa fa-check"></i><b>13.1</b> Callback</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">JavaScript for R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="advanced-usage" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Advanced Usage</h1>
<p>In the previous chapter we put together an interesting, fully functioning widget but it lacks polish and does not use all the features htmlwidgets provides, this chapter explores those. We look into handling the size of widgets to ensure they are responsive as well as discuss potential security concerns and how to address them. Finally we show how to pass JavaScript code from R to JavaScript and how to add HTML content before and after our widget.</p>
<div id="shared-variables" class="section level2 unnumbered" number="">
<h2>Shared Variables</h2>
<p>Up until now the topic of shared variables had been omitted as it was not relevant, however, it will be from here onwards. Indeed we are about to discover how to further manipulate the widget; changing the data, resizing, and more. This will generally the JavaScript instance of the visualisation, the object named <code>controller</code> in the gio package, which, being defined in the <code>renderValue</code> function is not accessible outside of it. To make it accessible outside of <code>renderValue</code> requires a tiny but consequential change without which resizing the widget will not be doable for instance.</p>
<p>Therefore the <code>controller</code> variable has to be declared outside of the <code>renderValue</code> function, inside the <code>factory</code>. This was in fact indicated from the onset by the following comment: <code>// TODO: define shared variables for this instance</code> (comment generated by <code>htmlwdigets::scaffoldWidget</code>). Any variable declared as shown below will be accessible by all functions declared in the <code>factory</code>; <code>renderValue</code>, but also <code>resize</code> and other yet to be added.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb248-1"><a href="advanced-usage.html#cb248-1"></a><span class="va">HTMLWidgets</span>.<span class="at">widget</span>(<span class="op">{</span></span>
<span id="cb248-2"><a href="advanced-usage.html#cb248-2"></a></span>
<span id="cb248-3"><a href="advanced-usage.html#cb248-3"></a>  <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;gio&#39;</span><span class="op">,</span></span>
<span id="cb248-4"><a href="advanced-usage.html#cb248-4"></a></span>
<span id="cb248-5"><a href="advanced-usage.html#cb248-5"></a>  <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;output&#39;</span><span class="op">,</span></span>
<span id="cb248-6"><a href="advanced-usage.html#cb248-6"></a></span>
<span id="cb248-7"><a href="advanced-usage.html#cb248-7"></a>  <span class="dt">factory</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb248-8"><a href="advanced-usage.html#cb248-8"></a></span>
<span id="cb248-9"><a href="advanced-usage.html#cb248-9"></a>    <span class="co">// </span><span class="al">TODO</span><span class="co">: define shared variables for this instance</span></span>
<span id="cb248-10"><a href="advanced-usage.html#cb248-10"></a>    <span class="kw">var</span> controller<span class="op">;</span></span>
<span id="cb248-11"><a href="advanced-usage.html#cb248-11"></a></span>
<span id="cb248-12"><a href="advanced-usage.html#cb248-12"></a>    <span class="cf">return</span> <span class="op">{</span></span>
<span id="cb248-13"><a href="advanced-usage.html#cb248-13"></a></span>
<span id="cb248-14"><a href="advanced-usage.html#cb248-14"></a>      <span class="dt">renderValue</span><span class="op">:</span> <span class="kw">function</span>(x) <span class="op">{</span></span>
<span id="cb248-15"><a href="advanced-usage.html#cb248-15"></a></span>
<span id="cb248-16"><a href="advanced-usage.html#cb248-16"></a>        <span class="kw">var</span> container <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="va">el</span>.<span class="at">id</span>)<span class="op">;</span></span>
<span id="cb248-17"><a href="advanced-usage.html#cb248-17"></a>        controller <span class="op">=</span> <span class="kw">new</span> <span class="va">GIO</span>.<span class="at">Controller</span>(container)<span class="op">;</span> <span class="co">// declared outside</span></span>
<span id="cb248-18"><a href="advanced-usage.html#cb248-18"></a>        </span>
<span id="cb248-19"><a href="advanced-usage.html#cb248-19"></a>        <span class="co">// add data</span></span>
<span id="cb248-20"><a href="advanced-usage.html#cb248-20"></a>        <span class="va">controller</span>.<span class="at">addData</span>(<span class="va">x</span>.<span class="at">data</span>)<span class="op">;</span></span>
<span id="cb248-21"><a href="advanced-usage.html#cb248-21"></a></span>
<span id="cb248-22"><a href="advanced-usage.html#cb248-22"></a>        <span class="co">// define style</span></span>
<span id="cb248-23"><a href="advanced-usage.html#cb248-23"></a>        <span class="va">controller</span>.<span class="at">setStyle</span>(<span class="va">x</span>.<span class="at">style</span>)<span class="op">;</span></span>
<span id="cb248-24"><a href="advanced-usage.html#cb248-24"></a></span>
<span id="cb248-25"><a href="advanced-usage.html#cb248-25"></a>        <span class="co">// callback</span></span>
<span id="cb248-26"><a href="advanced-usage.html#cb248-26"></a>        <span class="va">controller</span>.<span class="at">onCountryPicked</span>( callback )<span class="op">;</span></span>
<span id="cb248-27"><a href="advanced-usage.html#cb248-27"></a></span>
<span id="cb248-28"><a href="advanced-usage.html#cb248-28"></a>        <span class="kw">function</span> <span class="at">callback</span> (selectedCountry<span class="op">,</span> relatedCountries) <span class="op">{</span></span>
<span id="cb248-29"><a href="advanced-usage.html#cb248-29"></a>          <span class="va">Shiny</span>.<span class="at">setInputValue</span>(<span class="va">el</span>.<span class="at">id</span> <span class="op">+</span> <span class="st">&#39;_selected&#39;</span><span class="op">,</span> selectedCountry)<span class="op">;</span></span>
<span id="cb248-30"><a href="advanced-usage.html#cb248-30"></a>          <span class="va">Shiny</span>.<span class="at">setInputValue</span>(<span class="va">el</span>.<span class="at">id</span> <span class="op">+</span> <span class="st">&#39;_related:gio.related.countries&#39;</span><span class="op">,</span> relatedCountries)<span class="op">;</span></span>
<span id="cb248-31"><a href="advanced-usage.html#cb248-31"></a>        <span class="op">}</span></span>
<span id="cb248-32"><a href="advanced-usage.html#cb248-32"></a></span>
<span id="cb248-33"><a href="advanced-usage.html#cb248-33"></a>        <span class="co">// render</span></span>
<span id="cb248-34"><a href="advanced-usage.html#cb248-34"></a>        <span class="va">controller</span>.<span class="at">init</span>()<span class="op">;</span></span>
<span id="cb248-35"><a href="advanced-usage.html#cb248-35"></a></span>
<span id="cb248-36"><a href="advanced-usage.html#cb248-36"></a>      <span class="op">},</span></span>
<span id="cb248-37"><a href="advanced-usage.html#cb248-37"></a></span>
<span id="cb248-38"><a href="advanced-usage.html#cb248-38"></a>      <span class="dt">resize</span><span class="op">:</span> <span class="kw">function</span>(width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb248-39"><a href="advanced-usage.html#cb248-39"></a></span>
<span id="cb248-40"><a href="advanced-usage.html#cb248-40"></a>        <span class="co">// </span><span class="al">TODO</span><span class="co">: code to re-render the widget with a new size</span></span>
<span id="cb248-41"><a href="advanced-usage.html#cb248-41"></a></span>
<span id="cb248-42"><a href="advanced-usage.html#cb248-42"></a>      <span class="op">}</span></span>
<span id="cb248-43"><a href="advanced-usage.html#cb248-43"></a></span>
<span id="cb248-44"><a href="advanced-usage.html#cb248-44"></a>    <span class="op">};</span></span>
<span id="cb248-45"><a href="advanced-usage.html#cb248-45"></a>  <span class="op">}</span></span>
<span id="cb248-46"><a href="advanced-usage.html#cb248-46"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
</div>
<div id="sizing" class="section level2 unnumbered" number="">
<h2>Sizing</h2>
<p>The <code>gio</code> function of the package we developed in the previous chapter has arguments to specify the dimensions of the visualisation (width and height). However, think how rarely (if ever) one specifies these parameters when using plotly, highcharter or leaflet. Indeed HTML visualisations should be responsive and fit the container they are placed in—not to be confused though, these are two different things. This enables creating visualisations that look great on large desktop screens as well as the smaller mobile phones or iPad screens. Pre-defining the dimensions of the visualisation (e.g.: <code>400px</code>), breaks all responsiveness as the width is no longer relative to its container. Using a relative width like <code>100%</code> ensures the visualisation always fits in the container edge to edge and enables responsiveness.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="advanced-usage.html#cb249-1"></a>arcs &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(</span>
<span id="cb249-2"><a href="advanced-usage.html#cb249-2"></a>  <span class="st">&#39;[</span></span>
<span id="cb249-3"><a href="advanced-usage.html#cb249-3"></a><span class="st">    {</span></span>
<span id="cb249-4"><a href="advanced-usage.html#cb249-4"></a><span class="st">      &quot;e&quot;: &quot;CN&quot;,</span></span>
<span id="cb249-5"><a href="advanced-usage.html#cb249-5"></a><span class="st">      &quot;i&quot;: &quot;US&quot;,</span></span>
<span id="cb249-6"><a href="advanced-usage.html#cb249-6"></a><span class="st">      &quot;v&quot;: 3300000</span></span>
<span id="cb249-7"><a href="advanced-usage.html#cb249-7"></a><span class="st">    },</span></span>
<span id="cb249-8"><a href="advanced-usage.html#cb249-8"></a><span class="st">    {</span></span>
<span id="cb249-9"><a href="advanced-usage.html#cb249-9"></a><span class="st">      &quot;e&quot;: &quot;CN&quot;,</span></span>
<span id="cb249-10"><a href="advanced-usage.html#cb249-10"></a><span class="st">      &quot;i&quot;: &quot;RU&quot;,</span></span>
<span id="cb249-11"><a href="advanced-usage.html#cb249-11"></a><span class="st">      &quot;v&quot;: 10000</span></span>
<span id="cb249-12"><a href="advanced-usage.html#cb249-12"></a><span class="st">    }</span></span>
<span id="cb249-13"><a href="advanced-usage.html#cb249-13"></a><span class="st">  ]&#39;</span></span>
<span id="cb249-14"><a href="advanced-usage.html#cb249-14"></a>)</span>
<span id="cb249-15"><a href="advanced-usage.html#cb249-15"></a></span>
<span id="cb249-16"><a href="advanced-usage.html#cb249-16"></a><span class="kw">gio</span>(arcs)</span></code></pre></div>
<div class="figure">
<img src="images/gio-size-issue.png" alt="" />
<p class="caption">Gio no sizing management</p>
</div>
<p>When this is not specified htmlwdigets sets the width of the visualisation to 400 pixels.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="advanced-usage.html#cb250-1"></a><span class="kw">gio</span>(arcs, <span class="dt">width =</span> <span class="dv">500</span>) <span class="co"># 500 px wide</span></span>
<span id="cb250-2"><a href="advanced-usage.html#cb250-2"></a><span class="kw">gio</span>(arcs, <span class="dt">width =</span> <span class="st">&quot;100%&quot;</span>) <span class="co"># fits width</span></span></code></pre></div>
<p>These options are destined for the user of the package, the next section details how the developer can define default sizing behaviour.</p>
</div>
<div id="sizing-policy" class="section level2 unnumbered" number="">
<h2>Sizing Policy</h2>
<p>One can optionally specify a sizing policy when creating the widget, the policy will dictate default dimensions and padding given different contexts:</p>
<ul>
<li>Global defaults</li>
<li>RStudio viewer</li>
<li>Web browser</li>
<li>R markdown</li>
</ul>
<p>It is often enough to specify general defaults as widgets are rarely expected to behave differently with respect to size depending on the context but it can be useful.</p>
<p>Below we modify the sizing policy of gio via the <code>sizingPolicy</code> argument of the <code>createWidget</code> function. The function <code>htmlwidgets::sizingPolicy</code> has many arguments, we set the default width to 100% to ensure the visualisation fills its container entirely regardless of where it is rendered. We also remove all padding by setting it to 0 and set <code>browser.fill</code> to <code>TRUE</code> so it automatically resize the visualisation to fit the entire browser page.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="advanced-usage.html#cb251-1"></a><span class="co"># create widget</span></span>
<span id="cb251-2"><a href="advanced-usage.html#cb251-2"></a>htmlwidgets<span class="op">::</span><span class="kw">createWidget</span>(</span>
<span id="cb251-3"><a href="advanced-usage.html#cb251-3"></a>  <span class="dt">name =</span> <span class="st">&#39;gio&#39;</span>,</span>
<span id="cb251-4"><a href="advanced-usage.html#cb251-4"></a>  x,</span>
<span id="cb251-5"><a href="advanced-usage.html#cb251-5"></a>  <span class="dt">width =</span> width,</span>
<span id="cb251-6"><a href="advanced-usage.html#cb251-6"></a>  <span class="dt">height =</span> height,</span>
<span id="cb251-7"><a href="advanced-usage.html#cb251-7"></a>  <span class="dt">package =</span> <span class="st">&#39;gio&#39;</span>,</span>
<span id="cb251-8"><a href="advanced-usage.html#cb251-8"></a>  <span class="dt">elementId =</span> elementId,</span>
<span id="cb251-9"><a href="advanced-usage.html#cb251-9"></a>  <span class="dt">sizingPolicy =</span> htmlwidgets<span class="op">::</span><span class="kw">sizingPolicy</span>(</span>
<span id="cb251-10"><a href="advanced-usage.html#cb251-10"></a>    <span class="dt">defaultWidth =</span> <span class="st">&quot;100%&quot;</span>,</span>
<span id="cb251-11"><a href="advanced-usage.html#cb251-11"></a>    <span class="dt">padding =</span> <span class="dv">0</span>,</span>
<span id="cb251-12"><a href="advanced-usage.html#cb251-12"></a>    <span class="dt">browser.fill =</span> <span class="ot">TRUE</span></span>
<span id="cb251-13"><a href="advanced-usage.html#cb251-13"></a>  )</span>
<span id="cb251-14"><a href="advanced-usage.html#cb251-14"></a>)</span></code></pre></div>
<div class="figure">
<img src="images/gio-fit.png" alt="" />
<p class="caption">Gio with sizing policy</p>
</div>
</div>
<div id="resizing" class="section level2 unnumbered" number="">
<h2>Resizing</h2>
<p>In the first widget built in this book (<code>playground</code>), when we deconstructed the JavaScript <code>factory</code> function but omitted the <code>resize</code> function. The <code>resize</code> function does what it says on the tin: it is called when the widget is resized. What this function will contain entirely depends on the JavaScript library one is working with. Some are very easy to resize other less so, that is for the developer to discover in the documentation of the library. Some libraries, like gio, do not even require using a resizing function and handle that automatically under the hood; resize the width of the RStudio viewer or web browser and gio.js resizes too. This said, there is a function to force resize gio, though it is not in the official documentation it can be found in the source code: <code>resizeUpdate</code> is a method of the controller and does not take any argument.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb252-1"><a href="advanced-usage.html#cb252-1"></a>...</span>
<span id="cb252-2"><a href="advanced-usage.html#cb252-2"></a>resize<span class="op">:</span> <span class="kw">function</span>(width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb252-3"><a href="advanced-usage.html#cb252-3"></a>  <span class="va">controller</span>.<span class="at">resizeUpdate</span>()<span class="op">;</span></span>
<span id="cb252-4"><a href="advanced-usage.html#cb252-4"></a><span class="op">}</span></span>
<span id="cb252-5"><a href="advanced-usage.html#cb252-5"></a>...</span></code></pre></div>
<div class="figure">
<img src="images/gio-small.png" alt="" />
<p class="caption">Gio resized</p>
</div>
<p>To give the reader a better idea of what these tend to look like below are the ways plotly, highcharts, and chart.js do it.</p>
<p><strong>Plotly</strong></p>
<div class="sourceCode" id="cb253"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb253-1"><a href="advanced-usage.html#cb253-1"></a><span class="va">Plotly</span>.<span class="at">relayout</span>(<span class="st">&#39;chartid&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">width</span><span class="op">:</span> width<span class="op">,</span> <span class="dt">height</span><span class="op">:</span> height<span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p><strong>Highcharts</strong></p>
<div class="sourceCode" id="cb254"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb254-1"><a href="advanced-usage.html#cb254-1"></a><span class="va">chart</span>.<span class="at">setSize</span>(width<span class="op">,</span> height)<span class="op">;</span></span></code></pre></div>
<p><strong>Chart.js</strong></p>
<div class="sourceCode" id="cb255"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb255-1"><a href="advanced-usage.html#cb255-1"></a><span class="va">chart</span>.<span class="at">resize</span>()<span class="op">;</span></span></code></pre></div>
<p>The <code>width</code> and <code>height</code> used in the functions above are obtained from the <code>resize</code> function itself.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb256-1"><a href="advanced-usage.html#cb256-1"></a>...</span>
<span id="cb256-2"><a href="advanced-usage.html#cb256-2"></a>resize<span class="op">:</span> <span class="kw">function</span>(width<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb256-3"><a href="advanced-usage.html#cb256-3"></a>  <span class="va">chart</span>.<span class="at">setSize</span>(width<span class="op">,</span> height)<span class="op">;</span></span>
<span id="cb256-4"><a href="advanced-usage.html#cb256-4"></a><span class="op">}</span></span>
<span id="cb256-5"><a href="advanced-usage.html#cb256-5"></a>...</span></code></pre></div>
<p>Note that this is one of the reasons for ensuring the object containing the visualisation (<code>controller</code> in this case) is shared (declared in <code>factory</code>), if it is not then the <code>resize</code> function cannot access that object and thus cannot run the function required to resize the widget.</p>
</div>
<div id="pre-render-hooks-safety" class="section level2 unnumbered" number="">
<h2>Pre Render Hooks &amp; Safety</h2>
<p>The <code>createWidget</code> function also comes with a <code>preRenderHook</code> argument which accepts a function that is run just prior to the rendering, it accepts the entire widget object as input, and should return a modified widget object. This was not used in any of the widgets previously built but is extremely useful. It can be used to make checks on the object to ensure all is correct, or remove variables that should only be used internally, and much more.</p>
<p>Currently, <code>gio</code> takes the data frame <code>data</code> and serialises it in its entirety which will cause security concerns as all the data used in the widget is visible in the source code of the package. What if the data used for the visualisation contained an additional column with sensitive information? We ought to ensure gio only serialises the data necessary to produce the visualisation.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="advanced-usage.html#cb257-1"></a><span class="co"># add a variable that should not be shared</span></span>
<span id="cb257-2"><a href="advanced-usage.html#cb257-2"></a>arcs<span class="op">$</span>secret_id &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span></span></code></pre></div>
<p>We create a <code>render_gio</code> function which accepts the entire widget, filters only the column necessary from the data and returns the widget.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="advanced-usage.html#cb258-1"></a><span class="co"># preRenderHook function</span></span>
<span id="cb258-2"><a href="advanced-usage.html#cb258-2"></a>render_gio &lt;-<span class="st"> </span><span class="cf">function</span>(g){</span>
<span id="cb258-3"><a href="advanced-usage.html#cb258-3"></a>  <span class="co"># only keep relevant variables</span></span>
<span id="cb258-4"><a href="advanced-usage.html#cb258-4"></a>  g<span class="op">$</span>x<span class="op">$</span>data &lt;-<span class="st"> </span>g<span class="op">$</span>x<span class="op">$</span>data[,<span class="kw">c</span>(<span class="st">&quot;e&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="st">&quot;i&quot;</span>)]</span>
<span id="cb258-5"><a href="advanced-usage.html#cb258-5"></a>  <span class="kw">return</span>(g)</span>
<span id="cb258-6"><a href="advanced-usage.html#cb258-6"></a>}</span>
<span id="cb258-7"><a href="advanced-usage.html#cb258-7"></a></span>
<span id="cb258-8"><a href="advanced-usage.html#cb258-8"></a><span class="co"># create widget</span></span>
<span id="cb258-9"><a href="advanced-usage.html#cb258-9"></a>htmlwidgets<span class="op">::</span><span class="kw">createWidget</span>(</span>
<span id="cb258-10"><a href="advanced-usage.html#cb258-10"></a>  <span class="dt">name =</span> <span class="st">&#39;gio&#39;</span>,</span>
<span id="cb258-11"><a href="advanced-usage.html#cb258-11"></a>  x,</span>
<span id="cb258-12"><a href="advanced-usage.html#cb258-12"></a>  <span class="dt">width =</span> width,</span>
<span id="cb258-13"><a href="advanced-usage.html#cb258-13"></a>  <span class="dt">height =</span> height,</span>
<span id="cb258-14"><a href="advanced-usage.html#cb258-14"></a>  <span class="dt">package =</span> <span class="st">&#39;gio&#39;</span>,</span>
<span id="cb258-15"><a href="advanced-usage.html#cb258-15"></a>  <span class="dt">elementId =</span> elementId,</span>
<span id="cb258-16"><a href="advanced-usage.html#cb258-16"></a>  <span class="dt">sizingPolicy =</span> htmlwidgets<span class="op">::</span><span class="kw">sizingPolicy</span>(</span>
<span id="cb258-17"><a href="advanced-usage.html#cb258-17"></a>    <span class="dt">defaultWidth =</span> <span class="st">&quot;100%&quot;</span>,</span>
<span id="cb258-18"><a href="advanced-usage.html#cb258-18"></a>    <span class="dt">padding =</span> <span class="dv">0</span>,</span>
<span id="cb258-19"><a href="advanced-usage.html#cb258-19"></a>    <span class="dt">browser.fill =</span> <span class="ot">TRUE</span></span>
<span id="cb258-20"><a href="advanced-usage.html#cb258-20"></a>  ),</span>
<span id="cb258-21"><a href="advanced-usage.html#cb258-21"></a>  <span class="dt">preRenderHook =</span> render_gio <span class="co"># pass renderer</span></span>
<span id="cb258-22"><a href="advanced-usage.html#cb258-22"></a>)</span></code></pre></div>
<p>Moreover, security aside, this can also improve performances as only the data relevant to the visualisation is serialised and subsequently loaded by the client. Without the modification above, were one to use <code>gio</code> on a dataset with 100 columns all would have been serialised, thereby greatly impacting performances both of the R process rendering the output and the web browser viewing the visualisation.</p>
</div>
<div id="javascript-code-1" class="section level2 unnumbered" number="">
<h2>JavaScript Code</h2>
<p>As mentioned in a previous chapter JavaScript code cannot be serialised to JSON.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="advanced-usage.html#cb259-1"></a><span class="co"># serialised as string</span></span>
<span id="cb259-2"><a href="advanced-usage.html#cb259-2"></a>jsonlite<span class="op">::</span><span class="kw">toJSON</span>(<span class="st">&quot;var x = 3;&quot;</span>)</span></code></pre></div>
<pre><code>## [&quot;var x = 3;&quot;]</code></pre>
<p>Nonetheless, it is doable with htmlwdigets’ serialiser (and only that one). The function <code>htmlwidgets::JS</code> can be used to mark a character vector so that it will be treated as JavaScript code when evaluated in the browser.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="advanced-usage.html#cb261-1"></a>htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">&quot;var x = 3;&quot;</span>)  </span></code></pre></div>
<pre><code>## [1] &quot;var x = 3;&quot;
## attr(,&quot;class&quot;)
## [1] &quot;JS_EVAL&quot;</code></pre>
<p>This can be useful where the library requires the use of callback functions for instance.</p>
</div>
<div id="prepend-append-content" class="section level2 unnumbered" number="">
<h2>Prepend &amp; Append Content</h2>
<p>There is the ability to append of prepend HTML content to the widget. For instance, we could use <code>htmlwidgets::prependContent</code> to allow displaying a title to the visualisation as shown below.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="advanced-usage.html#cb263-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb263-2"><a href="advanced-usage.html#cb263-2"></a>gio_title &lt;-<span class="st"> </span><span class="cf">function</span>(g, title){</span>
<span id="cb263-3"><a href="advanced-usage.html#cb263-3"></a>  title &lt;-<span class="st"> </span>htmltools<span class="op">::</span><span class="kw">h3</span>(title)</span>
<span id="cb263-4"><a href="advanced-usage.html#cb263-4"></a>  htmlwidgets<span class="op">::</span><span class="kw">prependContent</span>(g, title)</span>
<span id="cb263-5"><a href="advanced-usage.html#cb263-5"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="advanced-usage.html#cb264-1"></a><span class="kw">gio</span>(arcs) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb264-2"><a href="advanced-usage.html#cb264-2"></a><span class="st">  </span><span class="kw">gio_title</span>(<span class="st">&quot;Gio.js htmlwidget!&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="images/gio-title.png" alt="" />
<p class="caption">Gio output with a title</p>
</div>
<p>While the <code>prependContent</code> function places the content above the visualisation, the <code>appendContent</code> function places it below, they accept any valid htmltools or shiny tag. A caveat though, this will not work in Shiny.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="the-full-monty.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-shiny.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JohnCoene/r-and-javascript/edit/master/24-htmlwidgets-advanced.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
