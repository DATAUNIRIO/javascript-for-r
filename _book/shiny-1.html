<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Shiny | R and JavaScript</title>
  <meta name="description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Shiny | R and JavaScript" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Invite JavaScript into your Data Science workflow." />
  <meta name="github-repo" content="yihui/bookdown-crc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Shiny | R and JavaScript" />
  
  <meta name="twitter:description" content="Invite JavaScript into your Data Science workflow." />
  

<meta name="author" content="John Coene" />


<meta name="date" content="2020-05-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="node.html"/>
<link rel="next" href="references.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<script src="libs/core-js/shim.min.js"></script>
<script src="libs/react/react.min.js"></script>
<script src="libs/react/react-dom.min.js"></script>
<script src="libs/reactwidget/react-tools.js"></script>
<script src="libs/reactable-binding/reactable.js"></script>
<script src="libs/r2d3-render/r2d3-render.js"></script>
<script src="libs/webcomponents/webcomponents.js"></script>
<script src="libs/r2d3-binding/r2d3.js"></script>
<script src="libs/d3v5/d3.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R and JavaScript</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i><b>0.1</b> Disclaimer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#package-development"><i class="fa fa-check"></i>Package Development</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#json"><i class="fa fa-check"></i>JSON</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#javascript"><i class="fa fa-check"></i>JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#rationale"><i class="fa fa-check"></i>Rationale</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#methods"><i class="fa fa-check"></i>Methods</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#v8"><i class="fa fa-check"></i>V8</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#htmlwidgets"><i class="fa fa-check"></i>htmlwidgets</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#shiny"><i class="fa fa-check"></i>Shiny</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#reactr"><i class="fa fa-check"></i>reactR</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#bubble"><i class="fa fa-check"></i>bubble</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#r2d3"><i class="fa fa-check"></i>r2d3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="the-v8-engine.html"><a href="the-v8-engine.html"><i class="fa fa-check"></i><b>2</b> The V8 Engine</a>
<ul>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#external-libraries"><i class="fa fa-check"></i>External Libraries</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#with-npm"><i class="fa fa-check"></i>With Npm</a></li>
<li class="chapter" data-level="" data-path="the-v8-engine.html"><a href="the-v8-engine.html#use-in-packages"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="node.html"><a href="node.html"><i class="fa fa-check"></i><b>3</b> Node.js with Bubble</a>
<ul>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#basics-1"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#r-markdown-engine"><i class="fa fa-check"></i>R Markdown Engine</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#npm"><i class="fa fa-check"></i>Npm</a></li>
<li class="chapter" data-level="" data-path="node.html"><a href="node.html#use-in-packages-1"><i class="fa fa-check"></i>Use in Packages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="shiny-1.html"><a href="shiny-1.html"><i class="fa fa-check"></i><b>4</b> Shiny</a>
<ul>
<li class="chapter" data-level="4.1" data-path="shiny-1.html"><a href="shiny-1.html#assets"><i class="fa fa-check"></i><b>4.1</b> Assets</a></li>
<li class="chapter" data-level="4.2" data-path="shiny-1.html"><a href="shiny-1.html#from-r-to-javascript"><i class="fa fa-check"></i><b>4.2</b> From R to JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R and JavaScript</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="shiny-1" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Shiny</h1>
<p>Shiny is by far most popular the web framework for the R programming language. In this chapter, after brushing up on the basics of Shiny, we explore how to not just include JavaScript in our applications but truly blend it with our R back-end.</p>
<p>Then again, the aim is not to write a lot of convoluted JavaScript, on the contrary it is to write as little as possible and demonstrate to the reader that it is often just enough to change the entire user interface and user experience of a shiny application. Making shiny work with JavaScript essentially can be broken down into two operations: 1) passing data from the R server to the JavaScript client and 2) the other way around, from the client to the R server.</p>
<p>One interesting system that was hinted at previously is that of the client-server model. Shiny developers are already well aware of the latter since, to build a shiny application, one needs to write a “server” function. However, few know about that of the “client,” or consider it when building applications. With regard to such web applications the clients are web browsers and the server is essentially your shiny application. A somewhat interesting aspect inherent to that model is the fact that your application will have a single server (deployed on <a href="https://www.shinyapps.io/">shinyapps.io</a> or elsewhere) but multiple clients, all the users viewing and interacting with your application. This understanding may give compelling reasons to use JavaScript; while your R code will run on your server, JavaScript will run on the clients (web browsers).</p>
<div id="assets" class="section level2" number="4.1">
<h2 number="4.1"><span class="header-section-number">4.1</span> Assets</h2>
<p>Before we introduce JavaScript into our applications we need to know how to do so. First, we need to source our JavaScript files in our shiny application. Second, in order for the application to source those files it needs to be able to access them, one cannot just create a JavaScript file and have magically appear in the app; shiny needs to know where to look for static files.</p>
<p>Let us tackle those two issues in reverse order: where should one place JavaScript files when writing an application? They should sit in a separate directory placed at the root of the app (next to <code>app.R</code>). If you are using the RStudio IDE and are used to writing applications then click the “Run” button know that RStudio uses the function <code>shiny::runApp</code> in the background, this function looks for such files in the <code>www</code> directory and makes them available at the same URL. If you are building your applications outside of RStudio, you should either also use <code>shiny::runApp</code> or specify the directory and use the function <code>shiny::shinyApp</code>. Note that this only applies locally, shiny server (community and pro) as well as <a href="https://www.shinyapps.io/">shinyapps.io</a> use the same defaults.</p>
<p>In order to ensure the code in this book can run regardless of the reader’s machine and IDE, the asset directory is always specified. This is probably advised to steer clear of the potential headaches as, unlike the default, it’ll work regardless of the environment. If you are using <a href="https://thinkr-open.github.io/golem/">golem</a> <span class="citation">(Guyader et al. <a href="references.html#ref-R-golem" role="doc-biblioref">2020</a>)</span> to develop your application then you should not worry about this, golem specifies the directory internally.</p>
<p>Below we build a basic shiny application, however, before we define the ui and server we use the <code>shiny::addResourcePath</code> function to specify a directory of static files that will be served by the server and thus accessible by the client. This function takes two arguments, first the <code>prefix</code>, which is essentially the path (URL) at which the assets will be available, second the path to the directory of static assets.</p>
<p>We thus create the directory and a JavaScript file called <code>script.js</code> within it.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="shiny-1.html#cb113-1"></a><span class="co"># run from root of app (where app.R is located)</span></span>
<span id="cb113-2"><a href="shiny-1.html#cb113-2"></a><span class="kw">dir.create</span>(<span class="st">&quot;assets&quot;</span>)</span>
<span id="cb113-3"><a href="shiny-1.html#cb113-3"></a><span class="kw">writeLines</span>(<span class="st">&quot;var x = 3;&quot;</span>, <span class="dt">con =</span> <span class="st">&quot;assets/script.js&quot;</span>)</span></code></pre></div>
<p>We can now use the <code>shiny::addResourcePath</code> to point to this directory. Generally developers use the same name for the directory of static assets and prefix so as to avoid confusion, below we name them differently in order for the reader to clearly distinguish which is which.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="shiny-1.html#cb114-1"></a><span class="co"># app.R</span></span>
<span id="cb114-2"><a href="shiny-1.html#cb114-2"></a><span class="kw">library</span>(shiny)</span>
<span id="cb114-3"><a href="shiny-1.html#cb114-3"></a></span>
<span id="cb114-4"><a href="shiny-1.html#cb114-4"></a><span class="co"># serve the files</span></span>
<span id="cb114-5"><a href="shiny-1.html#cb114-5"></a><span class="kw">addResourcePath</span>(<span class="dt">prefix =</span> <span class="st">&quot;files&quot;</span>, <span class="dt">directoryPath =</span> <span class="st">&quot;assets&quot;</span>)</span>
<span id="cb114-6"><a href="shiny-1.html#cb114-6"></a></span>
<span id="cb114-7"><a href="shiny-1.html#cb114-7"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb114-8"><a href="shiny-1.html#cb114-8"></a>  <span class="kw">h1</span>(<span class="st">&quot;R and JavaScript&quot;</span>)</span>
<span id="cb114-9"><a href="shiny-1.html#cb114-9"></a>)</span>
<span id="cb114-10"><a href="shiny-1.html#cb114-10"></a></span>
<span id="cb114-11"><a href="shiny-1.html#cb114-11"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){}</span>
<span id="cb114-12"><a href="shiny-1.html#cb114-12"></a></span>
<span id="cb114-13"><a href="shiny-1.html#cb114-13"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>If you then run the application and open it at the <code>/files/script.js</code> path (e.g.:127.0.0.1:3000/files/script.js) you should see the content of our JavaScript file (<code>var x = 3;</code>), commenting the <code>addResourcePath</code> line will have a “Not Found” error displayed on the page instead.</p>
<div class="important">
<p>
All files in your asset directory will be served online and accessible to anyone: do not place sensitive files in it.
</p>
</div>
<p>Though one may create multiple such directory and correspondingly use <code>addResourcePath</code> to specify multiple paths and prefixes, developers will generally specify a single one, “assets,” which contains multiple subdirectories, one for each type of static asset file, namely images, CSS, and JavaScript to obtain a directory that looks something like.</p>
<pre><code>assets/
├── js/
│    └── script.js
├── css/
│    └── style.css
└── img/
     └── pic.png</code></pre>
<p>This made the JavaScript file we created accessible by the clients but we still have to source this file in our <code>ui</code>. Were this HTML one would have to use the <code>script</code> to <code>src</code> the file in the <code>head</code> of the page.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb116-1"><a href="shiny-1.html#cb116-1"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb116-2"><a href="shiny-1.html#cb116-2"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb116-3"><a href="shiny-1.html#cb116-3"></a>    <span class="er">&lt;</span>!–– source the JavaScript file ––&gt;</span>
<span id="cb116-4"><a href="shiny-1.html#cb116-4"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;path/to/script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb116-5"><a href="shiny-1.html#cb116-5"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb116-6"><a href="shiny-1.html#cb116-6"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb116-7"><a href="shiny-1.html#cb116-7"></a>    <span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;content&quot;</span><span class="kw">&gt;</span>Trying JavaScript!<span class="kw">&lt;/p&gt;</span></span>
<span id="cb116-8"><a href="shiny-1.html#cb116-8"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb116-9"><a href="shiny-1.html#cb116-9"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>In shiny we write the ui in R and not in HTML (though it is possible). Just like the rest of the UI, the functions are named exactly as the HTML tags so it’s pretty straightforward, the html page above would look something like the shiny <code>ui</code> below.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="shiny-1.html#cb117-1"></a><span class="kw">library</span>(shiny)</span>
<span id="cb117-2"><a href="shiny-1.html#cb117-2"></a></span>
<span id="cb117-3"><a href="shiny-1.html#cb117-3"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb117-4"><a href="shiny-1.html#cb117-4"></a>  tags<span class="op">$</span><span class="kw">head</span>(</span>
<span id="cb117-5"><a href="shiny-1.html#cb117-5"></a>    tags<span class="op">$</span><span class="kw">script</span>(<span class="dt">src =</span> <span class="st">&quot;path/to/script.js&quot;</span>)</span>
<span id="cb117-6"><a href="shiny-1.html#cb117-6"></a>  ),</span>
<span id="cb117-7"><a href="shiny-1.html#cb117-7"></a>  <span class="kw">p</span>(<span class="dt">id =</span> <span class="st">&quot;content&quot;</span>, <span class="st">&quot;Trying JavaScript!&quot;</span>)</span>
<span id="cb117-8"><a href="shiny-1.html#cb117-8"></a>)</span></code></pre></div>
<p>Note that we use the <code>tags</code> object which comes with shiny and includes HTML tags that are not exported as standalone functions. For instance, you can create a <code>&lt;div&gt;</code> in shiny with the <code>div</code> function but <code>tags$div</code> will also work. This can now be applied to the shiny application, the <code>path/to/script.js</code> should be changed to <code>files/script.js</code> where <code>files</code> is the prefix we defined in <code>addResourcePath</code>.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="shiny-1.html#cb118-1"></a><span class="co"># app.R</span></span>
<span id="cb118-2"><a href="shiny-1.html#cb118-2"></a><span class="kw">library</span>(shiny)</span>
<span id="cb118-3"><a href="shiny-1.html#cb118-3"></a></span>
<span id="cb118-4"><a href="shiny-1.html#cb118-4"></a><span class="co"># serve the files</span></span>
<span id="cb118-5"><a href="shiny-1.html#cb118-5"></a><span class="kw">addResourcePath</span>(<span class="dt">prefix =</span> <span class="st">&quot;files&quot;</span>, <span class="dt">directoryPath =</span> <span class="st">&quot;assets&quot;</span>)</span>
<span id="cb118-6"><a href="shiny-1.html#cb118-6"></a></span>
<span id="cb118-7"><a href="shiny-1.html#cb118-7"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb118-8"><a href="shiny-1.html#cb118-8"></a>  tags<span class="op">$</span><span class="kw">head</span>(</span>
<span id="cb118-9"><a href="shiny-1.html#cb118-9"></a>    tags<span class="op">$</span><span class="kw">script</span>(<span class="dt">src =</span> <span class="st">&quot;files/script.js&quot;</span>)</span>
<span id="cb118-10"><a href="shiny-1.html#cb118-10"></a>  ),</span>
<span id="cb118-11"><a href="shiny-1.html#cb118-11"></a>  <span class="kw">h1</span>(<span class="st">&quot;R and JavaScript&quot;</span>)</span>
<span id="cb118-12"><a href="shiny-1.html#cb118-12"></a>)</span>
<span id="cb118-13"><a href="shiny-1.html#cb118-13"></a></span>
<span id="cb118-14"><a href="shiny-1.html#cb118-14"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){}</span>
<span id="cb118-15"><a href="shiny-1.html#cb118-15"></a></span>
<span id="cb118-16"><a href="shiny-1.html#cb118-16"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div id="from-r-to-javascript" class="section level2" number="4.2">
<h2 number="4.2"><span class="header-section-number">4.2</span> From R to JavaScript</h2>
<p>The first thing we shall attempt to do is send data from the R server to the JavaScript client.</p>
<p>We’ll build upon the extremely basic application we have put together in the previous section.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="shiny-1.html#cb119-1"></a><span class="co"># app.R</span></span>
<span id="cb119-2"><a href="shiny-1.html#cb119-2"></a><span class="kw">library</span>(shiny)</span>
<span id="cb119-3"><a href="shiny-1.html#cb119-3"></a></span>
<span id="cb119-4"><a href="shiny-1.html#cb119-4"></a><span class="co"># serve the files</span></span>
<span id="cb119-5"><a href="shiny-1.html#cb119-5"></a><span class="kw">addResourcePath</span>(<span class="dt">prefix =</span> <span class="st">&quot;files&quot;</span>, <span class="dt">directoryPath =</span> <span class="st">&quot;assets&quot;</span>)</span>
<span id="cb119-6"><a href="shiny-1.html#cb119-6"></a></span>
<span id="cb119-7"><a href="shiny-1.html#cb119-7"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb119-8"><a href="shiny-1.html#cb119-8"></a>  <span class="kw">textInput</span>(<span class="st">&quot;text&quot;</span>)</span>
<span id="cb119-9"><a href="shiny-1.html#cb119-9"></a>  <span class="kw">actionButton</span>(<span class="st">&quot;alert&quot;</span>, <span class="st">&quot;Show an alert!&quot;</span>)</span>
<span id="cb119-10"><a href="shiny-1.html#cb119-10"></a>)</span>
<span id="cb119-11"><a href="shiny-1.html#cb119-11"></a></span>
<span id="cb119-12"><a href="shiny-1.html#cb119-12"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</span>
<span id="cb119-13"><a href="shiny-1.html#cb119-13"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>alert, {</span>
<span id="cb119-14"><a href="shiny-1.html#cb119-14"></a>    session<span class="op">$</span><span class="kw">sendCustomMessage</span>(<span class="st">&quot;show_alert&quot;</span>, <span class="kw">list</span>(<span class="dt">text =</span> input<span class="op">$</span>text))</span>
<span id="cb119-15"><a href="shiny-1.html#cb119-15"></a>  })</span>
<span id="cb119-16"><a href="shiny-1.html#cb119-16"></a>}</span>
<span id="cb119-17"><a href="shiny-1.html#cb119-17"></a></span>
<span id="cb119-18"><a href="shiny-1.html#cb119-18"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="node.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JohnCoene/r-and-javascript/edit/master/04-Shiny.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
